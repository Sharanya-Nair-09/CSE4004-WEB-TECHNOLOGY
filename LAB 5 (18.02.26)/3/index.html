<!DOCTYPE html>
<html>
<head>
    <title>Student Record System</title>

    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #0f0f0f, #1c1c1c);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            color: #fff;
        }

        .container {
            width: 900px;
            padding: 40px;
            border-radius: 20px;
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.6);
        }

        h2 {
            text-align: center;
            font-weight: 500;
            letter-spacing: 1px;
            margin-bottom: 30px;
        }

        .form-section {
            text-align: center;
        }

        input {
            padding: 10px;
            margin: 6px;
            width: 200px;
            border-radius: 8px;
            border: 1px solid rgba(255,255,255,0.2);
            background: rgba(255,255,255,0.08);
            color: #fff;
            outline: none;
            transition: 0.3s;
        }

        input::placeholder {
            color: rgba(255,255,255,0.6);
        }

        input:focus {
            border-color: #00c6ff;
            box-shadow: 0 0 8px rgba(0,198,255,0.5);
        }

        button {
            padding: 10px 18px;
            margin: 8px 5px;
            border-radius: 8px;
            border: none;
            cursor: pointer;
            font-weight: 500;
            transition: 0.3s ease;
            background: rgba(255,255,255,0.1);
            color: white;
            border: 1px solid rgba(255,255,255,0.2);
        }

        button:hover {
            background: #00c6ff;
            color: #000;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,198,255,0.4);
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 30px;
            border-radius: 12px;
            overflow: hidden;
        }

        th, td {
            padding: 12px;
            text-align: center;
        }

        th {
            background: rgba(255,255,255,0.1);
            font-weight: 500;
            letter-spacing: 0.5px;
        }

        td {
            background: rgba(255,255,255,0.05);
            border-bottom: 1px solid rgba(255,255,255,0.08);
        }

        tr:hover td {
            background: rgba(0,198,255,0.15);
        }

        #message {
            margin-top: 15px;
            text-align: center;
            font-weight: 500;
            color: #00ffcc;
        }
    </style>
</head>
<body>

<div class="container">
    <h2>Student Record System</h2>

    <div class="form-section">
        <input type="text" id="id" placeholder="ID">
        <input type="text" id="name" placeholder="Name">
        <input type="text" id="course" placeholder="Course">
        <input type="number" id="marks" placeholder="Marks (0-100)">
        <br>
        <button onclick="addStudent()">Add</button>
        <button onclick="updateStudent()">Update</button>
        <button onclick="deleteStudent()">Delete</button>
    </div>

    <p id="message"></p>

    <table>
        <thead>
            <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Course</th>
                <th>Marks</th>
            </tr>
        </thead>
        <tbody id="studentTable"></tbody>
    </table>
</div>

<script>
let students = [];

// Load JSON using Fetch API
function loadStudents() {
    fetch("students.json")
        .then(response => {
            if (!response.ok) {
                throw new Error("Network response was not ok");
            }
            return response.json();
        })
        .then(data => {
            students = data;
            displayStudents();
        })
        .catch(error => {
            document.getElementById("message").innerText =
                "Error loading JSON file: " + error.message;
        });
}

// Display students
function displayStudents() {
    let table = document.getElementById("studentTable");
    table.innerHTML = "";

    students.forEach(student => {
        table.innerHTML += `
            <tr>
                <td>${student.id}</td>
                <td>${student.name}</td>
                <td>${student.course}</td>
                <td>${student.marks}</td>
            </tr>
        `;
    });
}

// Validation
function validateInputs(id, name, course, marks) {
    if (!id || !name || !course || !marks) {
        document.getElementById("message").innerText =
            "All fields are required!";
        return false;
    }

    if (marks < 0 || marks > 100) {
        document.getElementById("message").innerText =
            "Marks must be between 0 and 100!";
        return false;
    }

    return true;
}

// CREATE
function addStudent() {
    let id = idField.value.trim();
    let name = nameField.value.trim();
    let course = courseField.value.trim();
    let marks = marksField.value;

    if (!validateInputs(id, name, course, marks)) return;

    if (students.find(s => s.id === id)) {
        message.innerText = "Student ID already exists!";
        return;
    }

    students.push({ id, name, course, marks: Number(marks) });
    displayStudents();
    message.innerText = "Student added successfully!";
}

// UPDATE
function updateStudent() {
    let id = idField.value.trim();
    let course = courseField.value.trim();
    let marks = marksField.value;

    let student = students.find(s => s.id === id);
    if (!student) {
        message.innerText = "Student not found!";
        return;
    }

    if (course) student.course = course;
    if (marks) student.marks = Number(marks);

    displayStudents();
    message.innerText = "Student updated successfully!";
}

// DELETE
function deleteStudent() {
    let id = idField.value.trim();

    let index = students.findIndex(s => s.id === id);
    if (index === -1) {
        message.innerText = "Student not found!";
        return;
    }

    students.splice(index, 1);
    displayStudents();
    message.innerText = "Student deleted successfully!";
}

// Short references
const idField = document.getElementById("id");
const nameField = document.getElementById("name");
const courseField = document.getElementById("course");
const marksField = document.getElementById("marks");
const message = document.getElementById("message");

// Load on start
window.onload = loadStudents;
</script>

</body>
</html>
